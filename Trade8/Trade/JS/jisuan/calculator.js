(function(e){var t=e.Zepto,n=e.kureicp;n.mobile.lotType=n.lottery.lotType.ssq,n.mobile.price=n.lottery.price,n.mobile.bonus=[0,0,3e3,200,10,5],n.mobile.opencodeAPI="/int/qkjinfo",n.mobile.openissueAPI="/int/issuelist",n.mobile.initOpenissue=function(){t.getJSON(n.mobile.openissueAPI+"?lotid="+n.mobile.lotType+"&rnd="+Math.random(),function(e){if(e){var r=[],i=e.length;for(var s=0;s<i;s++)r.push('<option value="'+e[s]+'">'+e[s]+"\u671f</option>");t("#issue").append(r.join("")),n.mobile.initOpencode()}})},n.mobile.initOpencode=function(){var e=t("#issue").val(),r=n.mobile.opencodeAPI+"?LotID="+n.mobile.lotType+"&Issue="+e+"&rnd="+Math.random(),i,s,o=[],u=[];t.getJSON(r,function(e){if(e){var r,a;if(e.Code!=""){r=e.Level1.split(":")[0]*1,a=e.Level2.split(":")[0]*1,n.mobile.bonus[0]=r,n.mobile.bonus[1]=a,u=e.Code.split("+"),i=u[0].replace(/(\s)+/ig,"*").split("*"),s=u[1];for(var f=0;f<i.length;f++)o.push('<span class="redball">'+i[f]+"</span>");s.split("#")[1]?(o.push('<span class="blueball">'+s.split("#")[0]+"</span>"),o.push('<p style="clear: both; padding: 5px 0 0 10px; font-size: 14px; color: #a1a1a1;">5\u4ebf\u52a0\u5956\uff0c\u5e78\u8fd0\u84dd\u7403:<b class="blue">'+s.split("#")[1]+"</b></p>")):o.push('<span class="blueball">'+s+"</span>"),t(".kj-ball").html(o.join(""))}else t(".kj-ball").html("\u6682\u65e0\u6570\u636e\uff01")}})},n.mobile.count=function(){var e=1,r=t("#redball").text()*1,i=t("#blueball").text()*1;e=n.number.combo(r,6)*i,t("#tcount").text(e),t("#tmoney").text(e*n.mobile.price)},n.mobile.calculateBonus=function(){var r=[0,0,0,0,0,0],i=t("#redball").text()*1,s=t("#blueball").text()*1,o=t("#hitredball").text()*1,u=t("#hitblueball").text()*1,a=t(".ncount"),f=t(".nmoney"),l=1,c=0;switch(o){case 0:case 1:case 2:u>0&&(r[5]+=n.number.combo(i,6));break;case 3:u>0&&(r[5]+=n.number.combo(i-o,4)*n.number.combo(o,2),r[5]+=n.number.combo(i-o,5)*n.number.combo(o,1),r[5]+=n.number.combo(i-o,6),r[4]+=n.number.combo(i-o,3));break;case 4:u>0?(r[5]+=n.number.combo(i-o,6),r[5]+=n.number.combo(i-o,5)*n.number.combo(o,1),r[5]+=n.number.combo(i-o,4)*n.number.combo(o,2),r[4]+=n.number.combo(i-o,3)*n.number.combo(o,3),r[4]+=n.number.combo(i-o,2)*n.number.combo(o,4)*(s-1),r[3]+=n.number.combo(i-o,2)):r[4]+=n.number.combo(i-o,2)*s;break;case 5:u>0?(r[5]+=n.number.combo(i-o,6),r[5]+=n.number.combo(i-o,5)*n.number.combo(o,1),r[5]+=n.number.combo(i-o,4)*n.number.combo(o,2),r[4]+=n.number.combo(i-o,3)*n.number.combo(o,3),r[4]+=n.number.combo(i-o,2)*n.number.combo(o,4)*(s-1),r[3]+=n.number.combo(i-o,2)*n.number.combo(o,4),r[3]+=n.number.combo(i-o,1)*n.number.combo(o,5)*(s-1),r[2]+=n.number.combo(i-o,1)):(r[4]+=n.number.combo(i-o,2)*n.number.combo(o,4)*s,r[3]+=n.number.combo(i-o,1)*n.number.combo(o,5)*s);break;case 6:u>0?(r[5]+=n.number.combo(i-o,6),r[5]+=n.number.combo(i-o,5)*n.number.combo(o,1),r[5]+=n.number.combo(i-o,4)*n.number.combo(o,2),r[4]+=n.number.combo(i-o,3)*n.number.combo(o,3),r[4]+=n.number.combo(i-o,2)*n.number.combo(o,4)*(s-1),r[3]+=n.number.combo(i-o,2)*n.number.combo(o,4),r[3]+=n.number.combo(i-o,1)*n.number.combo(o,5)*(s-1),r[2]+=n.number.combo(i-o,1)*n.number.combo(o,5),r[1]+=s-1,r[0]++):(r[4]+=n.number.combo(i-o,2)*n.number.combo(o,4)*s,r[3]+=n.number.combo(i-o,1)*n.number.combo(o,5)*s,r[1]+=s)}for(var h=0;h<6;h++){var p=n.mobile.bonus[h];r[h]>0?(a.eq(h).addClass("red"),f.eq(h).addClass("red")):(a.eq(h).removeClass("red"),f.eq(h).removeClass("red")),p==0?(l=0,f.eq(h).parent().text("\u672a\u516c\u5e03"),a.eq(h).text(r[h])):(c+=p*r[h],a.eq(h).text(r[h]),f.eq(h).text(p*r[h]))}l==1?t("#mymoney").html('\u60a8\u4e2d\u5956\u603b\u91d1\u989d\u662f: <cite class="red">'+c+"</cite> \u5143\uff0c\u5956\u91d1\u5206\u5e03\u5982\u4e0b\uff1a"):t("#mymoney").html("\u5956\u91d1\u6682\u672a\u516c\u5e03\uff01"),e.scrollTo(0,1),t(".pop_mask").css({height:n.number.pageHeight("height")+"px",width:n.number.pageHeight("width")+"px"}),t(".pop-box,.pop_mask").show()},n.mobile.initMoneyArea=function(){var e=t(".pop-tab .tr");for(var n=1;n<3;n++)e.eq(n).html('<cite class="nmoney">0</cite> \u5143')},n.mobile.initEvent=function(){t("#issue").on("change",function(){n.mobile.initOpencode()}),t(".btn-num").on(n.lottery.tap,function(){var e=t(this);t(".menu-pop").addClass("none"),e.hasClass("btn-numon")?(e.removeClass("btn-numon"),e.parent().find(".menu-pop").addClass("none")):(e.addClass("btn-numon"),e.parent().find(".menu-pop").removeClass("none"))}),t(".menu-popc").on(n.lottery.tap,"a",function(){var e=t(this),r=e.parent().parent(),i=e.text(),s=e.parent().attr("type");e.addClass("on").siblings(".on").removeClass("on"),t("#"+s+"ball").text(i),r.addClass("none"),r.siblings(".btn-num").removeClass("btn-numon"),/(hit)/ig.test(s)||n.mobile.count()}),t(".btn-hm").on(n.lottery.tap,function(){n.mobile.calculateBonus()}),t(".cls,.btn-18").on(n.lottery.tap,function(){t(".pop-box,.pop_mask").hide(),n.mobile.initMoneyArea()})},t(function(){n.mobile.initOpenissue(),n.mobile.initEvent()})})(window);